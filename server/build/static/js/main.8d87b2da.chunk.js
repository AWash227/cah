(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{144:function(e,t,n){},145:function(e,t,n){},198:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(50),a=n.n(r),o=n(130),l=(n(144),n(18)),s=n(3),d=(n(145),n(207)),j=n(219),b=n(213),u=n(221),h=n(215),O=n(220),x=n(125),f=n(209),p=n(208),m=n(216),g=(n(217),n(121),n(39)),v=n(44),y=n(2),C=function(e){var t=e.deck,n=e.selected;return Object(y.jsxs)(d.a,Object(g.a)(Object(g.a)({p:6,m:4,boxShadow:"md",w:87.5,h:112.5,borderRadius:5,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",bgColor:"gray.600",color:"white",position:"relative",cursor:"pointer",transition:"all 0.25s ease-in-out"},e),{},{_hover:{opacity:.9},children:[Object(y.jsx)(d.a,{borderRadius:5,border:"5px solid",borderColor:"blue.500",top:0,right:0,bottom:0,left:0,position:"absolute",width:"100%",height:"100%",opacity:n?1:0,transition:"opacity 0.15s",children:Object(y.jsx)(d.a,{position:"absolute",top:0,left:0,px:2,py:1,borderBottomRightRadius:5,bgColor:"blue.500",color:"white",fontSize:"xx-small",fontWeight:"bold",children:Object(y.jsxs)(u.a,{children:[Object(y.jsx)(p.a,{fontSize:"xx-small",color:"white",as:v.a}),Object(y.jsx)(f.a,{children:"Selected"})]})})}),Object(y.jsx)(f.a,{fontSize:"xx-small",fontWeight:"bold",children:t.name}),t.official&&Object(y.jsx)(f.a,{_groupHover:{right:2,bottom:2},fontSize:"xx-small",position:"absolute",right:4,bottom:4,children:"Official"})]}))},S=function(e){var t=e.card,n=e.selected,i=e.type,r=void 0===i?"white":i,a=e.visible,o=void 0===a||a,l=Object(c.useState)(0),j=Object(s.a)(l,2),b=j[0],h=j[1];return Object(c.useEffect)((function(){h(5*Math.random()*(0===Math.round(Math.random())?-1:1))}),[]),Object(y.jsxs)(d.a,Object(g.a)(Object(g.a)(Object(g.a)({px:6,py:8,boxShadow:"md",w:175,h:225,borderRadius:5,bgColor:"white"===r?"white":"gray.600",color:"white"===r?"gray.800":"white",position:"relative",cursor:"pointer",transform:"rotate(".concat(b,"deg)"),transition:"all 0.25s ease-in-out"},n?{zIndex:200}:{}),e),{},{_hover:Object(g.a)({zIndex:200,transform:"scale(1.1)",boxShadow:"xl",opacity:.98},e._hover),children:[Object(y.jsxs)(d.a,{borderRadius:5,border:"5px solid",borderColor:"blue.500",top:0,right:0,bottom:0,left:0,position:"absolute",width:"100%",height:"100%",opacity:n?1:0,transition:"opacity 0.15s",children:[Object(y.jsx)(d.a,{position:"absolute",top:0,left:0,px:2,py:1,borderBottomRightRadius:5,bgColor:"blue.500",color:"white",fontSize:"xx-small",fontWeight:"bold",children:Object(y.jsxs)(u.a,{children:[Object(y.jsx)(p.a,{fontSize:"xx-small",color:"white",as:v.a}),Object(y.jsx)(f.a,{children:"Selected"})]})}),e.index&&Object(y.jsx)(d.a,{position:"absolute",bottom:0,right:0,px:2,py:1,bgColor:"blue.500",color:"white",fontSize:"md",fontWeight:"bold",borderTopLeftRadius:5,borderColor:"blue.500",children:Object(y.jsx)(u.a,{children:Object(y.jsx)(f.a,{fontSize:"xs",children:e.index})})})]}),o&&Object(y.jsx)(f.a,{width:"100%",height:"100%",overflowY:"auto",fontSize:"sm",fontWeight:"bold",pb:t.pick?8:0,children:t.text}),t&&t.pick&&"black"===r&&Object(y.jsxs)(f.a,{position:"absolute",right:4,bottom:4,fontSize:"xl",fontWeight:"bold",opacity:"0.5",children:["Pick ",t.pick]})]}))},k=n(123),w=Object(k.io)("",{reconnection:!0}),E=i.a.createContext(null),I=n(210),z=n(212),A=n(214),R=function(){if("undefined"!==typeof window.localStorage.getItem("player")){var e=window.localStorage.getItem("player");if(e)return JSON.parse(e)}return null},_=function(e){var t,n=e.gameState,i=Object(c.useContext)(E),r=Object(c.useState)(null),a=Object(s.a)(r,2),o=a[0],d=a[1],j=Object(c.useState)(n.maxScore||5),u=Object(s.a)(j,2),h=u[0],x=u[1],f=Object(c.useState)([]),p=Object(s.a)(f,2),m=p[0],g=p[1],v=Object(c.useState)(n.decks.map((function(e){return e.id}))||[]),S=Object(s.a)(v,2),k=S[0],w=S[1];Object(c.useEffect)((function(){w(n.decks.map((function(e){return e.id})))}),[n,w]);var A=Object(c.useCallback)((function(e){g(e)}),[]),_=Object(c.useCallback)((function(e){e.preventDefault(),null===i||void 0===i||i.emit("CHANGE_SETTINGS",{maxScore:h,decks:k})}),[h,k]);Object(c.useEffect)((function(){var e=R();e&&d(e),null===i||void 0===i||i.emit("GET_DECKS"),null===i||void 0===i||i.on("DECKS_FOUND",A)}),[]);var T=Object(c.useCallback)((function(){null===i||void 0===i||i.emit("START_GAME")}),[]);return o&&(null===(t=n.owner)||void 0===t?void 0:t.id)===o.id?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("form",{onSubmit:_,children:[Object(y.jsx)(O.a,{onClick:T,children:"Start Game"}),Object(y.jsx)(I.a,{children:"Max Score"}),Object(y.jsxs)(z.a,{onChange:function(e){return x(parseInt(e.target.value))},value:h,children:[Object(y.jsx)("option",{value:5,children:"5"}),Object(y.jsx)("option",{value:10,children:"10"}),Object(y.jsx)("option",{value:15,children:"15"}),Object(y.jsx)("option",{value:20,children:"20"}),Object(y.jsx)("option",{value:25,children:"25"})]}),Object(y.jsx)(b.a,{wrap:"wrap",p:2,overflowY:"auto",maxH:"15rem",children:m.map((function(e){return Object(y.jsx)(C,{deck:e,onClick:function(){return w((function(t){return t.includes(e.id)?t.filter((function(t){return t!==e.id})):[].concat(Object(l.a)(t),[e.id])}))},selected:k.includes(e.id)},e.id)}))}),Object(y.jsx)(O.a,{type:"submit",children:"Update Settings"})]})}):null},T=function(e){var t=e.players,n=Object(c.useContext)(E),i=Object(c.useState)(""),r=Object(s.a)(i,2),a=r[0],o=r[1],l=R(),d=Object(c.useCallback)((function(e){e.preventDefault(),null===n||void 0===n||n.emit("CREATE_PLAYER",a)}),[a]),j=Object(c.useCallback)((function(){var e=R();e&&o(e.name)}),[o]);Object(c.useEffect)((function(){null===n||void 0===n||n.on("PLAYER_CREATED",j)}),[]);var b=Object(c.useCallback)((function(e){e.preventDefault(),l&&(null===n||void 0===n||n.emit("JOIN",l))}),[l]);return Object(y.jsx)("form",{onSubmit:l?b:d,children:Object(y.jsxs)(u.a,{spacing:4,children:[!l&&Object(y.jsx)(A.a,{flex:3,type:"text",value:a,onChange:function(e){return o(e.target.value)},placeholder:"Insert Witty Name Here..."}),l&&!t.map((function(e){return e.id})).includes(l.id)&&Object(y.jsx)(O.a,{flex:1,colorScheme:"blue",type:"submit",children:"Create Account"})]})})},D=function(){return Object(y.jsxs)(d.a,{p:4,children:[Object(y.jsx)(W,{}),Object(y.jsxs)(d.a,{mx:"auto",maxWidth:"50rem",children:[Object(y.jsx)(h.a,{children:"Cards Against Humanity"}),Object(y.jsx)(f.a,{children:"A better version I think"}),Object(y.jsx)(f.a,{children:"Enter your name into the text box, and click join"}),Object(y.jsx)(f.a,{children:"When everyone is in, anyone can click start game to start it"})]})]})},N=function(e){var t=e.players;return Object(y.jsxs)(m.a,{children:[Object(y.jsx)(m.e,{children:Object(y.jsx)(m.f,{children:Object(y.jsx)(m.d,{children:"Name"})})}),Object(y.jsx)(m.b,{children:t.length>0?t.map((function(e){return Object(y.jsx)(m.f,{children:e.name},e.id)})):Object(y.jsx)(f.a,{children:"No one in room"})})]})},W=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(S,{position:"absolute",left:25,top:25,card:{id:0,text:"Your mom, lol",packId:0},type:"white"}),Object(y.jsx)(S,{position:"absolute",right:25,top:25,card:{id:0,text:"That feel when _",packId:0,pick:1},type:"black"}),Object(y.jsx)(S,{position:"absolute",right:350,bottom:0,card:{id:0,text:"Get Creeged",packId:0},type:"white"}),Object(y.jsx)(S,{position:"absolute",bottom:25,left:300,card:{id:0,text:"Who you gonna call? _.",packId:0,pick:1},type:"black"})]})},G=function(e){var t=e.gameState;Object(c.useContext)(E),Object(c.useCallback)((function(e){window.localStorage.setItem("player",JSON.stringify(e))}),[]);return Object(y.jsxs)(d.a,{width:"100%",height:"100%",children:[Object(y.jsx)(D,{}),Object(y.jsxs)(u.b,{spacing:4,maxWidth:"50rem",mx:"auto",children:[Object(y.jsx)(T,{players:t.players}),Object(y.jsx)(_,{gameState:t}),Object(y.jsx)(N,{players:t.players})]})]})},L={players:[],maxScore:5,decks:[],owner:null,rounds:[],currentRound:-1,winner:null};var P=function(e){var t=e.gameState,n=e.hand,i=Object(c.useContext)(E),r=Object(c.useState)([]),a=Object(s.a)(r,2),o=a[0],m=a[1],g=Object(c.useState)(null),C=Object(s.a)(g,2),k=C[0],w=C[1],I=Object(c.useState)(t.rounds[t.currentRound]),z=Object(s.a)(I,2),A=z[0],_=z[1];Object(c.useEffect)((function(){if(0===t.rounds.length)_(null);else{var e=t.rounds[t.currentRound];e&&_(e)}}),[t,_]),Object(c.useEffect)((function(){var e=R();e&&w(e)}),[w]);var T=Object(c.useCallback)((function(e){k&&(null===i||void 0===i||i.emit("JUDGE_PLAY",{playerId:e,judgedById:k.id}))}),[i,k]),D=Object(c.useCallback)((function(){o.length===A.blackCard.pick&&(null===i||void 0===i||i.emit("SUBMIT_PLAY",{playerId:null===k||void 0===k?void 0:k.id,cards:o}),m([]))}),[i,t,o]),N=Object(c.useCallback)((function(){null===i||void 0===i||i.emit("RESTART_GAME")}),[]);return t.winner?Object(y.jsxs)(j.a,{isOpen:!0,onClose:function(){},children:[Object(y.jsx)(j.d,{}),Object(y.jsx)(j.c,{children:Object(y.jsx)(j.b,{children:Object(y.jsx)(b.a,{width:"100%",height:"100%",align:"center",justify:"center",p:4,children:Object(y.jsxs)(u.b,{spacing:6,children:[Object(y.jsx)(h.a,{size:"lg",children:"".concat(t.winner.name," Won!")}),Object(y.jsx)(O.a,{colorScheme:"blue",size:"lg",onClick:N,children:"Restart Game"})]})})})})]}):A?Object(y.jsxs)(d.a,{position:"relative",width:"100%",height:"100%",children:[Object(y.jsx)(d.a,{width:"100%",children:Object(y.jsx)(u.b,{spacing:2,children:Object(y.jsxs)(u.a,{spacing:2,children:[Object(y.jsxs)(d.a,{px:4,children:[Object(y.jsx)(h.a,{pb:4,size:"md",children:"Black Card"}),A.blackCard&&Object(y.jsx)(S,{type:"black",card:A.blackCard})]}),A.plays.map((function(e){return Object(y.jsx)(u.a,{spacing:-50,p:2,borderRadius:5,transition:"all 0.25s ease-in-out",_hover:{outline:"3px solid",outlineColor:"blue.500"},onClick:function(){return T(e.playerId)},children:e.cards.map((function(e){return Object(y.jsx)(S,{card:e,type:"white",visible:0===A.playersLeft.length},e.id)}))},e.playerId)}))]})})}),Object(y.jsx)(d.a,{width:"100%",maxH:300,h:300,position:"absolute",left:0,bottom:0,p:4,bgColor:"gray.100",children:Object(y.jsxs)(x.a,{templateColumns:"1fr 3fr",children:[Object(y.jsx)(M,{players:t.players,isStillPlaying:function(e){return A.playersLeft.includes(e)},isCzar:function(e){return A.czar.id===e}}),console.log("Players Left",A.playersLeft),Object(y.jsx)(d.a,{height:"100%",position:"relative",children:A.czar.id===(null===k||void 0===k?void 0:k.id)?Object(y.jsx)(b.a,{width:"100%",height:"100%",justify:"center",align:"center",children:Object(y.jsx)(f.a,{fontWeight:"bold",children:"You are the Card Czar"})}):k&&!A.playersLeft.includes(k.id)?Object(y.jsx)(b.a,{width:"100%",height:"100%",justify:"center",align:"center",children:Object(y.jsx)(f.a,{fontWeight:"bold",children:"You've already played a card this round."})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(b.a,{justify:"space-between",align:"center",p:2,children:[Object(y.jsx)(f.a,{fontWeight:"bold",children:"Your Cards"}),Object(y.jsx)(O.a,{size:"sm",colorScheme:"blue",leftIcon:Object(y.jsx)(p.a,{as:v.b}),onClick:D,children:"Confirm Move"})]}),Object(y.jsx)(d.a,{height:"100%",children:Object(y.jsx)(b.a,{height:"100%",justify:"center",children:n&&(null===k||void 0===k?void 0:k.id)&&n.map((function(e,t){return Object(y.jsx)(S,{card:e,onClick:function(){return function(e){if(1===A.blackCard.pick)m(o.includes(e.id)?o.filter((function(t){return e.id!==t})):[e.id]);else{var t=!(null===o||void 0===o?void 0:o.includes(e.id))&&A.blackCard.pick&&(null===o||void 0===o?void 0:o.length)<A.blackCard.pick;m(t?[].concat(Object(l.a)(o),[e.id]):null===o||void 0===o?void 0:o.filter((function(t){return e.id!==t})))}}(e)},selected:o.includes(e.id),index:o.findIndex((function(t){return t===e.id}))+1},e.id)}))})})]})})]})})]}):Object(y.jsx)(G,{gameState:t})},M=function(e){var t=e.players,n=e.isStillPlaying,c=e.isCzar;return Object(y.jsxs)(m.a,{size:"sm",children:[Object(y.jsx)(m.e,{children:Object(y.jsxs)(m.f,{children:[Object(y.jsx)(m.d,{children:"Name"}),Object(y.jsx)(m.d,{children:"Score"}),Object(y.jsx)(m.d,{children:"Status"})]})}),Object(y.jsx)(m.b,{children:t.map((function(e){return Object(y.jsxs)(m.f,{children:[Object(y.jsx)(m.c,{children:e.name}),Object(y.jsx)(m.c,{children:e.score}),Object(y.jsx)(m.c,{children:c(e.id)?"Card Czar":n(e.id)?"Playing":"Done"})]},e.id)}))})]})},Y=function(){var e=Object(c.useState)(L),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)([]),a=Object(s.a)(r,2),o=a[0],l=a[1],j=Object(c.useCallback)((function(e){console.log(e.players),i(e);var t=R();t&&w.emit("GET_HAND",t.id),console.log("DECKS",e.decks)}),[]),b=Object(c.useCallback)((function(e){window.localStorage.setItem("player",JSON.stringify(e))}),[]),u=Object(c.useCallback)((function(e){l(e)}),[l]);return Object(c.useEffect)((function(){w.on("GAME_CHANGED",j),w.on("PLAYER_CREATED",b),w.emit("GET_GAME"),w.on("HAND_FOUND",u)}),[w]),Object(y.jsx)(d.a,{className:"App",position:"relative",overflow:"hidden",children:Object(y.jsx)(E.Provider,{value:w,children:Object(y.jsx)(P,{gameState:n,hand:o})})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,222)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))},H=n(218),B=n(200);a.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(H.a,{children:Object(y.jsxs)(o.a,{children:[Object(y.jsx)(B.a,{}),Object(y.jsx)(Y,{})]})})}),document.getElementById("root")),F()}},[[198,1,2]]]);
//# sourceMappingURL=main.8d87b2da.chunk.js.map